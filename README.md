
## ğŸš€ å¿«é€Ÿå¼€å§‹

### 1. ç¯å¢ƒè¦æ±‚

- Node.js >= 16
- MySQL >= 8.0
- npm æˆ– yarn

### 2. æ•°æ®åº“é…ç½®

```bash
# åˆ›å»ºæ•°æ®åº“å¹¶å¯¼å…¥æ•°æ®
mysql -u root -p

# åœ¨MySQLä¸­æ‰§è¡Œ
CREATE DATABASE mzcourse_merged;
USE mzcourse_merged;
SOURCE mzcourse_2025-12-04_144922.sql;
```

### 3. åç«¯é…ç½®

```bash
cd backend

# å®‰è£…ä¾èµ–
npm install

# é…ç½®æ•°æ®åº“è¿æ¥ (ä¿®æ”¹ .env æ–‡ä»¶)
# DB_HOST=localhost
# DB_USER=root
# DB_PASSWORD=ä½ çš„å¯†ç 
# DB_NAME=mzcourse_merged

# å¯åŠ¨åç«¯æœåŠ¡
node server.js
```

åç«¯æœåŠ¡è¿è¡Œåœ¨: http://localhost:4000

### 4. å‰ç«¯é…ç½®

```bash
cd frontend

# å®‰è£…ä¾èµ–
npm install

# å¯åŠ¨å‰ç«¯æœåŠ¡
npm run dev
```

å‰ç«¯æœåŠ¡è¿è¡Œåœ¨: http://localhost:8080

---

## ğŸ” æµ‹è¯•è´¦å·

| è§’è‰² | ç”¨æˆ·å | å¯†ç  | è¯´æ˜ |
|------|--------|------|------|
| æ•™å¸ˆ | `admintr` | `test123` | å¯æŸ¥çœ‹æ•™å¸ˆä¸­å¿ƒæ•°æ®ç»Ÿè®¡å›¾è¡¨ |

---

## ğŸ“Š æ•™å¸ˆä¸­å¿ƒæ•°æ®ç»Ÿè®¡åŠŸèƒ½

ç™»å½•æ•™å¸ˆè´¦å·åï¼Œè¿›å…¥ **æ•™å¸ˆä¸­å¿ƒ â†’ æ•°æ®ç»Ÿè®¡** å¯æŸ¥çœ‹ï¼š

### 1. å­¦ç”ŸçŸ¥è¯†æŒæ¡åˆ†å¸ƒï¼ˆç¯çŠ¶å›¾ï¼‰
- å±•ç¤ºå­¦ç”Ÿå¯¹çŸ¥è¯†ç‚¹çš„æŒæ¡ç¨‹åº¦åˆ†å¸ƒ
- åˆ†ç±»ï¼šç²¾é€šã€ç†Ÿç»ƒã€ç†è§£ã€å…¥é—¨ã€å¾…å­¦ä¹ 

### 2. å­¦ä¹ è¡Œä¸ºè¯äº‘
- å±•ç¤ºå­¦ç”Ÿçš„å­¦ä¹ è¡Œä¸ºå…³é”®è¯
- åŒ…å«ï¼šä¸“æ³¨ã€æš‚åœã€å›æ»šã€ç¬”è®°ã€æé—®ã€è®¨è®ºã€ç»ƒä¹ ã€å¤ä¹ ç­‰

### 3. å­¦ä¹ è¡Œä¸ºè¶‹åŠ¿åˆ†æï¼ˆæŠ˜çº¿å›¾ï¼‰
- å±•ç¤ºè¿‡å»6å‘¨çš„å­¦ä¹ è¶‹åŠ¿å˜åŒ–
- åŒ…å«å››ä¸ªæ ¸å¿ƒæŒ‡æ ‡ï¼š
  - **è¯¾ç¨‹å®Œæ’­ç‡**ï¼šå­¦ç”Ÿå®Œæˆè¯¾ç¨‹è§†é¢‘è§‚çœ‹çš„æ¯”ä¾‹
  - **äº’åŠ¨å‚ä¸åº¦**ï¼šå­¦ç”Ÿåœ¨è¯¾ç¨‹ä¸­çš„äº’åŠ¨å‚ä¸ç¨‹åº¦
  - **çŸ¥è¯†æŒæ¡åº¦**ï¼šå­¦ç”Ÿå¯¹è¯¾ç¨‹çŸ¥è¯†çš„æŒæ¡ç¨‹åº¦
  - **å¹³å‡ä¸“æ³¨æ—¶é•¿**ï¼šå­¦ç”Ÿå¹³å‡æ¯æ¬¡å­¦ä¹ çš„ä¸“æ³¨æ—¶é—´

### 4. å¤šç»´åº¦æ•°æ®ç­›é€‰
- **æ€»ä½“æ•™å­¦é£æ ¼**ï¼šæŸ¥çœ‹æ‰€æœ‰è¯¾ç¨‹çš„ç»¼åˆè¶‹åŠ¿
- **å…·ä½“è¯¾ç¨‹åˆ†æ**ï¼šç‚¹å‡»è¯¾ç¨‹æŒ‰é’®æŸ¥çœ‹å•ä¸ªè¯¾ç¨‹çš„è¯¦ç»†è¶‹åŠ¿

---


## ğŸ“ SQL æµ‹è¯•æ•°æ®è¯´æ˜

SQL æ–‡ä»¶ `mzcourse_2025-12-04_144922.sql` åŒ…å«ä»¥ä¸‹æµ‹è¯•æ•°æ®ï¼š

### chapter_progress è¡¨ï¼ˆç« èŠ‚è¿›åº¦ï¼‰
- 24 æ¡æµ‹è¯•è®°å½•
- ç”¨äºç”Ÿæˆ"çŸ¥è¯†æŒæ¡åˆ†å¸ƒç¯çŠ¶å›¾"
- åŒ…å«ä¸åŒç”¨æˆ·å¯¹ä¸åŒç« èŠ‚çš„å­¦ä¹ è¿›åº¦ï¼ˆ0-100%ï¼‰

### student_learning_log è¡¨ï¼ˆå­¦ä¹ è¡Œä¸ºæ—¥å¿—ï¼‰
- 42 æ¡æµ‹è¯•è®°å½•
- ç”¨äºç”Ÿæˆ"å­¦ä¹ è¡Œä¸ºè¯äº‘"
- è¡Œä¸ºç±»å‹åŒ…æ‹¬ï¼š
  - `focus` - ä¸“æ³¨å­¦ä¹ 
  - `pause` - æš‚åœ
  - `replay` - å›æ»š/é‡æ’­
  - `note` - è®°ç¬”è®°
  - `question` - æé—®
  - `discuss` - è®¨è®º
  - `exercise` - ç»ƒä¹ 
  - `review` - å¤ä¹ 
  - `summary` - æ€»ç»“
  - ç­‰ç­‰...

### ğŸ“Š å­¦ä¹ è¡Œä¸ºè¶‹åŠ¿åˆ†ææµ‹è¯•SQL

ä¸ºäº†æµ‹è¯•**å­¦ä¹ è¡Œä¸ºè¶‹åŠ¿åˆ†æ**åŠŸèƒ½ï¼ˆæŠ˜çº¿å›¾+è¯¾ç¨‹å¡ç‰‡åˆ‡æ¢ï¼‰ï¼Œåˆ›å»ºäº†ä»¥ä¸‹SQLè¯­å¥æµ‹è¯•æ•°æ®ï¼š

```sql
-- æ³¨æ„ï¼šæ­¤æ—¶æµ‹è¯•è´¦å·ä¸ºæ•™å¸ˆç«¯ï¼Œå¯¹åº”userè¡¨ä¸­çš„id=15

-- 1. ä¸ºæ•™å¸ˆid=15åˆ›å»ºè¯¾ç¨‹
INSERT INTO `course` (`course_id`, `course_name`, `course_desc`, `teacher_user_id`, `category_id`, `difficulty_level`, `is_online`, `student_count`, `rating`, `rating_count`) VALUES
(17, 'æ•°æ®ç»“æ„ä¸ç®—æ³•', 'æ·±å…¥è®²è§£æ•°æ®ç»“æ„ä¸ç®—æ³•ï¼Œé€‚åˆè®¡ç®—æœºä¸“ä¸šå­¦ç”Ÿ', 15, 1, 'intermediate', 1, 120, 4.7, 85),
(18, 'æœºå™¨å­¦ä¹ åŸºç¡€', 'æœºå™¨å­¦ä¹ å…¥é—¨è¯¾ç¨‹ï¼Œæ¶µç›–å¸¸ç”¨ç®—æ³•', 15, 3, 'intermediate', 1, 85, 4.5, 65),
(19, 'Webå¼€å‘å®æˆ˜', 'å‰ç«¯+åç«¯å…¨æ ˆå¼€å‘è¯¾ç¨‹', 15, 1, 'beginner', 1, 150, 4.8, 110),
(20, 'æ•°æ®åº“ç³»ç»Ÿ', 'MySQLã€MongoDBç­‰æ•°æ®åº“æŠ€æœ¯è®²è§£', 15, 6, 'intermediate', 1, 90, 4.6, 72);

-- 2. ä¸ºè¿™äº›è¯¾ç¨‹åˆ›å»ºç« èŠ‚
INSERT INTO `course_chapter` (`chapter_id`, `course_id`, `chapter_title`, `order_index`) VALUES
(62, 17, 'æ•°ç»„ä¸é“¾è¡¨', 1),
(63, 17, 'æ ˆä¸é˜Ÿåˆ—', 2),
(64, 17, 'æ ‘ä¸å›¾', 3),
(65, 17, 'æ’åºç®—æ³•', 4),
(66, 18, 'çº¿æ€§å›å½’', 1),
(67, 18, 'é€»è¾‘å›å½’', 2),
(68, 18, 'å†³ç­–æ ‘', 3),
(69, 18, 'èšç±»ç®—æ³•', 4),
(70, 19, 'HTML/CSSåŸºç¡€', 1),
(71, 19, 'JavaScriptç¼–ç¨‹', 2),
(72, 19, 'Reactæ¡†æ¶', 3),
(73, 19, 'Node.jsåç«¯', 4),
(74, 20, 'SQLåŸºç¡€', 1),
(75, 20, 'ç´¢å¼•ä¸ä¼˜åŒ–', 2),
(76, 20, 'NoSQLæ•°æ®åº“', 3),
(77, 20, 'æ•°æ®åº“è®¾è®¡', 4);

-- 3. æ’å…¥æµ‹è¯•å­¦ç”Ÿæ•°æ®
INSERT IGNORE INTO `user` (`user_id`, `user_name`, `email`, `password_hash`, `role`) VALUES
(101, 'å­¦ç”ŸA', 'student.a@example.com', '$2a$10$examplestudent1', 'learner'),
(102, 'å­¦ç”ŸB', 'student.b@example.com', '$2a$10$examplestudent2', 'learner'),
(103, 'å­¦ç”ŸC', 'student.c@example.com', '$2a$10$examplestudent3', 'learner'),
(104, 'å­¦ç”ŸD', 'student.d@example.com', '$2a$10$examplestudent4', 'learner');

-- å­¦ç”ŸæŠ¥åè¯¾ç¨‹
INSERT INTO `user_course` (`user_id`, `course_id`, `progress`, `total_learn_duration`, `is_enrolled`) VALUES
(101, 17, 85, 4500, 1),
(101, 18, 70, 3600, 1),
(102, 17, 90, 5000, 1),
(102, 19, 80, 4200, 1),
(103, 18, 65, 3200, 1),
(103, 20, 75, 3800, 1),
(104, 17, 95, 5200, 1),
(104, 19, 85, 4600, 1);

-- 4. åˆ›å»ºè¯¾ç¨‹è¯„ä»·
INSERT INTO `course_review` (`course_id`, `user_id`, `rating`, `review_content`) VALUES
(17, 101, 5, 'è¯¾ç¨‹å†…å®¹å¾ˆæ‰å®ï¼Œç®—æ³•è®²è§£å¾ˆæ¸…æ™°'),
(17, 102, 4, 'ç»ƒä¹ é¢˜ç›®æœ‰ç‚¹éš¾ï¼Œä½†å¾ˆæœ‰æ”¶è·'),
(18, 103, 5, 'æœºå™¨å­¦ä¹ å…¥é—¨çš„å¥½è¯¾ç¨‹'),
(19, 104, 5, 'å®æˆ˜æ€§å¾ˆå¼ºï¼Œå­¦åˆ°äº†å¾ˆå¤š'),
(20, 103, 4, 'æ•°æ®åº“çŸ¥è¯†è®²å¾—å¾ˆå…¨é¢');

-- 5. æ’å…¥å­¦ä¹ è¶‹åŠ¿åˆ†ææ•°æ®ï¼ˆæ ¸å¿ƒæµ‹è¯•æ•°æ®ï¼‰
INSERT INTO `learning_trend_analysis` (`teacher_id`, `analysis_type`, `week_number`, `completion_rate`, `interaction_rate`, `mastery_rate`, `focus_duration`, `created_date`) VALUES
-- æ€»ä½“æ•°æ®
(15, 'overall', 1, 65.00, 68.00, 62.00, 22, '2025-11-25'),
(15, 'overall', 2, 68.00, 72.00, 65.00, 23, '2025-12-02'),
(15, 'overall', 3, 72.00, 75.00, 68.00, 24, '2025-12-09'),
(15, 'overall', 4, 75.00, 78.00, 72.00, 25, '2025-12-16'),
(15, 'overall', 5, 78.00, 80.00, 75.00, 26, '2025-12-23'),
(15, 'overall', 6, 82.00, 83.00, 79.00, 27, '2025-12-30'),

-- æ•°æ®ç»“æ„è¯¾ç¨‹æ•°æ®
(15, 'course-17', 1, 70.00, 65.00, 68.00, 25, '2025-11-25'),
(15, 'course-17', 2, 72.00, 68.00, 70.00, 26, '2025-12-02'),
(15, 'course-17', 3, 75.00, 72.00, 73.00, 27, '2025-12-09'),
(15, 'course-17', 4, 78.00, 75.00, 76.00, 28, '2025-12-16'),
(15, 'course-17', 5, 82.00, 78.00, 79.00, 29, '2025-12-23'),
(15, 'course-17', 6, 85.00, 80.00, 82.00, 30, '2025-12-30'),

-- æœºå™¨å­¦ä¹ è¯¾ç¨‹æ•°æ®
(15, 'course-18', 1, 60.00, 65.00, 58.00, 20, '2025-11-25'),
(15, 'course-18', 2, 65.00, 68.00, 62.00, 21, '2025-12-02'),
(15, 'course-18', 3, 68.00, 72.00, 65.00, 22, '2025-12-09'),
(15, 'course-18', 4, 72.00, 75.00, 68.00, 23, '2025-12-16'),
(15, 'course-18', 5, 75.00, 78.00, 72.00, 24, '2025-12-23'),
(15, 'course-18', 6, 78.00, 80.00, 75.00, 25, '2025-12-30'),

-- Webå¼€å‘è¯¾ç¨‹æ•°æ®
(15, 'course-19', 1, 72.00, 75.00, 70.00, 26, '2025-11-25'),
(15, 'course-19', 2, 75.00, 78.00, 72.00, 27, '2025-12-02'),
(15, 'course-19', 3, 78.00, 80.00, 75.00, 28, '2025-12-09'),
(15, 'course-19', 4, 80.00, 82.00, 78.00, 29, '2025-12-16'),
(15, 'course-19', 5, 82.00, 84.00, 80.00, 30, '2025-12-23'),
(15, 'course-19', 6, 85.00, 86.00, 82.00, 31, '2025-12-30'),

-- æ•°æ®åº“è¯¾ç¨‹æ•°æ®
(15, 'course-20', 1, 68.00, 70.00, 65.00, 24, '2025-11-25'),
(15, 'course-20', 2, 70.00, 72.00, 68.00, 25, '2025-12-02'),
(15, 'course-20', 3, 72.00, 75.00, 70.00, 26, '2025-12-09'),
(15, 'course-20', 4, 75.00, 78.00, 72.00, 27, '2025-12-16'),
(15, 'course-20', 5, 78.00, 80.00, 75.00, 28, '2025-12-23'),
(15, 'course-20', 6, 80.00, 82.00, 78.00, 29, '2025-12-30');

-- 6. æ›´æ–°è¯¾ç¨‹ç»Ÿè®¡æ•°æ®
UPDATE `course` SET 
  `student_count` = (
    SELECT COUNT(DISTINCT user_id) 
    FROM `user_course` 
    WHERE course_id = `course`.`course_id` AND is_enrolled = 1
  ),
  `rating` = (
    SELECT AVG(rating) 
    FROM `course_review` 
    WHERE course_id = `course`.`course_id`
  ),
  `rating_count` = (
    SELECT COUNT(*) 
    FROM `course_review` 
    WHERE course_id = `course`.`course_id`
  )
WHERE `course_id` IN (17, 18, 19, 20);
```

### ğŸ§ª æµ‹è¯•æ­¥éª¤

### 1. ç™»å½•æµ‹è¯•è´¦å·
- **ç”¨æˆ·å**: `admintr`
- **å¯†ç **: `test123`
- **è§’è‰²**: æ•™å¸ˆ
- **å¯¹åº”æ•°æ®è¡¨userä¸­çš„id**: 15

### 2. æ ¹æ®ä¸Šé¢æµ‹è¯•çš„sqlè¯­å¥è¿›è¡Œæ•°æ®æ’å…¥æ“ä½œ

### 3. æµ‹è¯•åŠŸèƒ½
1. è¿›å…¥ **æ•™å¸ˆä¸­å¿ƒ â†’ å­¦æƒ…åˆ†æçœ‹æ¿**
2. ç‚¹å‡»"æ€»ä½“æ•™å­¦é£æ ¼"æŒ‰é’®ï¼ŒæŸ¥çœ‹æ•´ä½“è¶‹åŠ¿æŠ˜çº¿å›¾
3. åˆ†åˆ«ç‚¹å‡»ä»¥ä¸‹è¯¾ç¨‹æŒ‰é’®ï¼Œæµ‹è¯•åˆ‡æ¢åŠŸèƒ½ï¼š
   - **æ•°æ®ç»“æ„ä¸ç®—æ³•**ï¼ˆè¯¾ç¨‹17ï¼‰
   - **æœºå™¨å­¦ä¹ åŸºç¡€**ï¼ˆè¯¾ç¨‹18ï¼‰
   - **Webå¼€å‘å®æˆ˜**ï¼ˆè¯¾ç¨‹19ï¼‰
   - **æ•°æ®åº“ç³»ç»Ÿ**ï¼ˆè¯¾ç¨‹20ï¼‰
4. éªŒè¯æ¯ä¸ªè¯¾ç¨‹åˆ‡æ¢æ—¶ï¼ŒæŠ˜çº¿å›¾å’Œç»Ÿè®¡å¡ç‰‡æ•°æ®æ˜¯å¦æ­£ç¡®æ›´æ–°

---
## ğŸ“ æ³¨æ„äº‹é¡¹

1. ç¡®ä¿ MySQL æœåŠ¡å·²å¯åŠ¨
2. å¯¼å…¥ SQL æ–‡ä»¶å‰å…ˆåˆ›å»ºæ•°æ®åº“
3. ä¿®æ”¹ `backend/.env` ä¸­çš„æ•°æ®åº“å¯†ç ä¸ºä½ æœ¬åœ°çš„å¯†ç 
4. æ•™å¸ˆè´¦å· `admintr` çš„å¯†ç å·²ä½¿ç”¨ bcrypt åŠ å¯†å­˜å‚¨åœ¨æ•°æ®åº“ä¸­
